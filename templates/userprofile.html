{% extends 'mainlayout.html' %}
{% block title %} {{request.user.username}} {% endblock title %}

{% block body %}

<div class="container" style="float: left; display: flex; margin-top: 70px;">
  <div class="sidebar">
    <img style="height:auto;" alt="userprofile" width="260" height="260" class="avatar avatar-user"
      style="border-radius: 3%;" src="/static/img/profileimg.jpg">

    <div class="content my-2">
      <h4>{{request.user.username}}</h4>
      <h5 style="font-size: 13px;">{{user_profile.about}}</h5>
      <a type="button" class="btn btn-outline-secondary btn-sm" href="/editprofile" style="width: 260px;">Edit profile</a>

      <div class="my-2">
        <p>
          <img src="/static/img/followers.svg" style="width: 30px; height: 15px;" alt="followerssvg"><a
            class="link-secondary" style="font-size: 14px;" href="#">{{ user_profile.total_followers}} follower</a> . <a class="link-secondary"
            style="font-size: 14px;" href="">4 following</a>
        </p>
        <img src="/static/img/link.svg" style="width: 30px; height: 15px;" alt="linksvg"><a class="link-secondary"
          href="#"></a><a class="link-secondary" href="#" style="font-size: 14px;">LinkedIn</a>
        <a class="btn btn-sm btn-primary" style="margin: auto; display: block; position: inherit; margin-top: 10px;"
          href="/addblog">Add Blog</a>

      </div>
    </div>
  </div>

  <div class="main" style="margin-left: 50px; width: 100%;">
    <nav>
      <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-blogs-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button"
          role="tab" aria-controls="nav-home" aria-selected="true">Blogs</button>
        <button class="nav-link" id="nav-posts-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button"
          role="tab" aria-controls="nav-profile" aria-selected="false">Posts | <a href="/addpost">
            <img src="/static/img/add.svg" style="width: 30px; height: 30px;" alt="addpost" id="addpost" role="button">
          </a></button>
      </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-blogs-tab">
        <div class="row">

          {% if blogs %}
          {% for blog in blogs %}
          <div class="col-md-4">
            <div className="my-2">
              <div class="card" style="width: 18rem;">
                <img src="/media/{{blog.blog_img}}" class="card-img-top" alt="..." />
                <div class="card-body">
                  <h5 class="card-title">{{blog.title}}</h5>
                  <p class="card-text">
                    {{blog.description}}
                  </p>
                  <p>Category: {{blog.category}}</p>
                  <a href="/readmore?={{blog.title}}" class="btn btn-sm btn-primary">Read more</a>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
          {% else %}
            <h5 style="text-align: center; margin-top: 20px;">You haven't uploaded a blog yet!</h5>
          {% endif %}
        </div>

      </div>

      <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-posts-tab">

        <div class="container" style="margin-top: 12px; ">
          {% if posts %}
          {% for post in posts %}
          <div class="container bg-light border"
            style="background-color: rgb(232, 232, 232); min-width: 45%; max-width: 75%; height: 50%; border-radius: 6px; padding-top: 5px; padding-bottom: 5px; padding-left: 1px; padding-right: 1px; max-height: 100%; float: left; margin-bottom: 5px;">
            <div class="container">
              <img src="/static/img/profileimg.jpg" alt="@jayeshkaushik2" size="30" height="30" width="30"
                style="border-radius: 50%;" data-view-component="true" class="avatar dropdown-toggle"
                data-bs-toggle="dropdown" aria-expanded="false">
              <a href="" class="link-dark">{{post.user}}</a>
              <p class="status" name="status" , id="status" style="font-size: 11px; margin-top: 5px;">{{post.title}}</p>
            </div>
            <div class="postimage">
              <img src="/media/{{post.post_img}}" alt="postimage" id="postimage"
                style="display: block; position: inherit; width: 100%; height: 100%; max-width: 700px; max-height: fit-context; margin-top: 15px; margin-left: auto; margin-right: auto;">
            </div>
            <hr style="margin-top: 0px;">
            <div class="btnfooter"
              style="margin-top: -4px; height: 35px; padding: 5px; margin-bottom: 5px; text-align: center;">
              <img role="button" src="/static/img/like.svg" style="width: 10%; height: 100%; " alt="likesvg">
              <p style="display: inline; font-size: 12px; font-size: 12px; margin-left: -2%; margin-right: 6%;">Likes
                {{post.total_likes}}</p>

              <img role="button" src="/static/img/comment.svg" style="width: 10%; height: 100%; " alt="commentsvg">
              <p style="display: inline; font-size: 12px; font-size: 12px; margin-left: -2%; margin-right: 6%;">Comment
              </p>

              <img role="button" src="/static/img/share.svg" style="width: 10%; height: 100%; " alt="sharesvg">
              <p style="display: inline; font-size: 12px; font-size: 12px; margin-left: -2%; margin-right: 6%;">Share
              </p>

              <img role="button" src="/static/img/send.svg" style="width: 10%; height: 100%; " alt="sendsvg">
              <p style="display: inline; font-size: 12px; font-size: 12px; margin-left: -2%; margin-right: 6%;">Send</p>
            </div>
          </div>
          {% endfor %}
          {% else %}
          <h5 style="text-align: center; margin-top: 20px;">You haven't uploaded a post yet!</h5>
          {% endif %}
        </div>
        
      </div>
    </div>

  </div>
</div>


{% endblock body %}